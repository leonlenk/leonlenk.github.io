---
import styles from "./background.module.scss";
import Stars from "./stars.astro";
import Globals from "../globals/globals.astro";

const { numStars, starColor, minSize, maxSize, minDuration, maxDuration } =
  Astro.props;
---

<Globals />
<div class="fixedBackground"></div>
<div class="backgroundContainer">
  <Stars
    numStars={numStars}
    starColor={starColor}
    minSize={minSize}
    maxSize={maxSize}
    minDuration={minDuration}
    maxDuration={maxDuration}
  />
  <slot />
</div>

<style lang="scss">
  .fixedBackground {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    background-image: (
      linear-gradient(to bottom right, #0f0f2dcf 50%, #5d0f4a67 95%),
      radial-gradient(
        circle at top left,
        #78133d 0%,
        #0f0f2d 50%,
        #000000 100%
      ),
      radial-gradient(
        circle at bottom right,
        #6a07ffcb 0%,
        #220f2d 50%,
        #000000 100%
      ),
      radial-gradient(
        circle at top right,
        #0852eff7 0%,
        #1f369c 50%,
        #000000 100%
      )
    );
    background-blend-mode: normal;
    background-repeat: no-repeat;
  }
  .backgroundContainer {
    display: flow-root;
    position: relative;
    isolation: isolate;
    width: 100%;
    min-height: 100lvh;
    box-sizing: border-box;
  }
</style>
